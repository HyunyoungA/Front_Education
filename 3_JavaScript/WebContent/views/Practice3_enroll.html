<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
   <form>
      <fieldset>
         <legend>회원가입</legend>
         <label>아이디 : </label>
         <input type="text" id="id" onkeyup='test1()'>
         <span id="idSpan"></span><br><br>
         <label>비밀번호 : </label>
         <input type="password" id="pwd"><br><br>
         <label>비밀번호 확인 : </label>
         <input type="password" id="pwdCheck" onblur='test2()'>
         <span id="pwdSpan"></span><br><br>
         <label>이름 : </label>
         <input type="text" id="name"><br><br>
         <button id="login" onclick="check();">회원가입</button>
      </fieldset>
   </form>
   <script>
     // var idTest = document.getElementById('login');
      
      //아이디 중복 확인하는 메소드
      function test1(){
         var idStr = document.getElementById('id').value;
         var area = document.getElementById('idSpan');
         var checkId = false;//Id중복확인을 했느냐를 확인하기 위한 boolean값
 		 //false로 초기화를 해놓고, 사용가능하면 true로 불가능하면 false로 값을 바꾸는거
         console.log(area.innerText= '');
         if(idStr == '' || idStr.length == 0){
        	 area.innerText= '';
         } else if(idStr === 'user01'){
            area.style.color = 'red';
            area.innerText= "이미 존재하는 아이디입니다."
            checkId = false;
         } else{
            area.style.color = 'green';
            area.innerText= "사용 가능한 아이디입니다."
            checkId = true;
         }
      }
      
      function test2(){
         var pwdStr = document.getElementById('pwd').value;
         var pwdCheck = document.getElementById('pwdCheck').value;
         var pwdSpan = document.getElementById('pwdSpan').value;
         var area = document.getElementById('pwdSpan');
         var checkPwd = false;
         //비밀번호 일치확인
         if(pwdStr == '' || pwdStr.length == 0){
        	 pwdSpan.innerText= '';
      	 } else if(pwdStr === pwdCheck){
            area.style.color = 'green';
            area.innerText= "비밀번호가 일치합니다."
            checkPwd = true;
         }else{
            area.style.color = 'red';
            area.innerText= "비밀번호가 일치하지 않습니다"
            checkPwd = false;
         }
      }
         
      function check(){
         var loginCheck = document.getElementById('login').value;
         var pwdStr = document.getElementById('pwd').value;
         var pwdCheck = document.getElementById('pwdCheck').value;
         var idStr = document.getElementById('id');
         var idValue = idStr.value;
         var name = document.getElementById('name').value;
        // var input = document.getElementsByTagName('input');
        
         //console.log(idValue == "" || idValue.length == 0);--콘솔에찍어보기!
         //한칸이라도 비어있으면 XXX를 입력해주세요. 설정
         if(idValue == "" || idValue.length == 0){
            alert('아이디를 입력해주세요');
            idStr.focus();
         } else if(pwdStr == '' || pwdStr.length == 0){
            alert('비밀번호를 입력해주세요');
            pwdStr.focus();
         } else if(pwdCheck == '' || pwdCheck.length == 0){
            alert('비밀번호확인을 입력해주세요');
            pwdCheck.focus();
         } else if(name == '' || name.length == 0){
            alert('이름을 입력해주세요');
            name.focus();
         } else if(){ 
         } else{
            alert(name + '님, 회원가입이 성공적으로 완료되었습니다^^');
         };
         
         //문제 : 포커스 ,커서가 들어갔다가 다시 사라짐(변수 input에 오타때문에 안되는거였음...)
         
         //모든 칸이 채워져 있을 때 아이디가 중복되어 있다면 ‘사용할 수 없는 아이디입니다’ 알림창
         //아이디에 적혀있던 값은 지워지고 아이디 필드로 커서가 옮겨짐.
   
         
      };
   
   
   </script>
</body>
</html>